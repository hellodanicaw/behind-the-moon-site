<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Behind the Moon Books</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <div class="logo-wrapper">
      <img src="moon_logo.svg" alt="Left Moon" class="moon" />
      <img src="logo.svg" alt="Behind the Moon Books Logo" class="logo" />
      <img src="moon_logo.svg" alt="Right Moon" class="moon flip" />
    </div>
    <nav>
      <ul>
        <li><a href="#about">About</a></li>
        <li><a href="#shop">Shop</a></li>
        <li><a href="#" id="open-popup">Join the List</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="hero">
      <h1>WELCOME TO BEHIND THE MOON BOOKS</h1>
      <p>A whimsical world of dot-to-dot discoveries, curious creatures, and creativity.</p>
    </section>

    <div class="peek-wrapper">
      <img src="cover.png" alt="Book Cover" class="static-cover" />
      <div class="peek-trigger" onclick="togglePeek()">ðŸ‘€ Take a peek inside</div>
    </div>

    <div class="peek-overlay" id="peekOverlay">
      <div class="peek-popup">
        <img src="peek_inside_preview.png" alt="Peek Inside Pages" />
      </div>
      <button class="peek-close" onclick="closePeek()">Ã—</button>
    </div>

    <section class="collapsible-section" id="about">
      <details>
        <summary>About Behind the Moon Books</summary>
        <p>
          Behind the Moon Books is an independent publisher and illustrator creating fun, screen-free activity books that spark imagination and curiosity. Our first title, the <em>Curious Creatures Field Guide</em>, invites kids to connect the dots, color imaginative hybrids, and record their own discoveries in a field guide format.
        </p>
        <p>
          We're passionate about crafting hands-on books that blend storytelling, creativity, and learningâ€”more are coming soon!
        </p>
      </details>
    </section>

    <section class="collapsible-section" id="contact">
      <details>
        <summary>Contact</summary>
        <p>
          Have a question or collaboration idea? Reach out any time at:
          <a href="mailto:contact@behindthemoonbooks.com">contact@behindthemoonbooks.com</a>
        </p>
      </details>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Behind the Moon Books</p>
  </footer>

  <!-- Newsletter Popup -->
  <div class="popup-overlay" id="popup-overlay">
    <div class="popup-content">
      <button id="close-popup" class="close-popup">&times;</button>
      <h2>Join The Mailing List!</h2>
      <p>Sign up to be the first to hear about new releases! Plus gain access to free puzzles, special offers, and exclusive Behind The Moon news!</p>
      <form action="https://assets.mailerlite.com/jsonp/1449339/forms/151575053274711484/subscribe" method="post" target="_blank">
        <input type="email" name="fields[email]" placeholder="Your email" required />
        <button type="submit">Subscribe</button>
      </form>
    </div>
  </div>

  <script>
    const popupOverlay = document.getElementById('popup-overlay');
    const openPopupBtn = document.getElementById('open-popup');
    const closePopupBtn = document.getElementById('close-popup');

    // Show popup once per session
    window.addEventListener('load', function () {
      if (!sessionStorage.getItem('popupShown')) {
        popupOverlay.style.display = 'flex';
        sessionStorage.setItem('popupShown', 'true');
      }
    });

    openPopupBtn.addEventListener('click', function (e) {
      e.preventDefault();
      popupOverlay.style.display = 'flex';
    });

    closePopupBtn.addEventListener('click', function () {
      popupOverlay.style.display = 'none';
    });

    function togglePeek() {
      document.getElementById('peekOverlay').style.display = 'flex';
    }

    function closePeek() {
      document.getElementById('peekOverlay').style.display = 'none';
    }
  </script>
</body>
</html>
